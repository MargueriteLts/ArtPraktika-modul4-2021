<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="stylesheets/style.css">
    <title></title>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-compat/3.0.0-alpha1/jquery.js"></script> -->
    <!-- <script src="https://code.jquery.com/jquery-compat-3.0.0-alpha1.js"></script> -->
    <!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> -->
    <!-- <script src="javascripts/jquery-3.6.0.js"></script> -->
    <style media="screen">
      html,body{margin:0; padding:0;}
      .box {
        position:absolute;
        /* background: blue; */
        background-image: url(images/cloud.svg);
        /* font-size:10px; */
        /* display:inline-block; */
        display: flex;
        flex-wrap: wrap;
        margin:20px;
        /* border-radius: 50% ; */
        width:250px;
        height:180px;
        /* color:white; */
        /* text-align:center;
        line-height:20px; */
      }
      .box1 {
        top:40px;
        left:40px;
      }
      .box2 {
        top:80px;
        left:80px;
      }
      .box3 {
        top:150px;
        left:150px;
      }
    </style>
  </head>

  <body>
    <div class="box">1</div>
<div class="box box1">X</div>
<div class="box box2">X</div>
<div class="box box3">X</div>
<div class="box box4">X</div>
<div class="box box5">X</div>
<div class="box box6">X</div>
<div class="box box7">X</div>
<div class="box box8">X</div>
<br>
<div class="box">1</div>
<div class="box">X</div>
<div class="box">X</div>
<div class="box">X</div>
<div class="box">X</div>
<div class="box">X</div>
<div class="box">X</div>
<div class="box">X</div>
<div class="box">X</div>
<br>
<div class="box">1</div>
<div class="box">X</div>
<div class="box">X</div>
<div class="box">X</div>
<div class="box">X</div>
<div class="box">X</div>
<div class="box">X</div>
<div class="box">X</div>
<div class="box">X</div>
<br>
<div class="box">1</div>
<div class="box">X</div>
<div class="box">X</div>
<div class="box">X</div>
<div class="box">X</div>
<div class="box">X</div>
<div class="box">X</div>
<div class="box">X</div>
<div class="box">X</div>
<br>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-compat/3.0.0-alpha1/jquery.min.js"></script>

<script type="text/javascript">
var mouse = {'x': 0, 'y': 0};

homex = 0;
homey = 0;
forcex = 0;
forcey = 0;
magnet = 500;


$(document).bind('mousemove', function(e) {
  mouse = {'x': e.pageX, 'y': e.pageY};
});


$('.box').each(function(index, el){
  $(el).data( "homex", parseInt($(el).position().left));
  $(el).data( "homey", parseInt($(el).position().top));
});

$('.box').css('position','absolute');
setInterval(function () {
  $('.box').each(function(index, el){
    el = $(el);
    position = el.position();
    x0 = el.offset().left;
    y0 = el.offset().top;
    x1 = mouse.x;
    y1 = mouse.y;
    distancex = x1-x0;
    distancey = y1-y0;

    distance = Math.sqrt((distancex * distancex) + (distancey * distancey));

    /*
    magnet = 2600 - distance*20;
    if(distance>130) {
    magnet=0;
  }
  */

  powerx = x0 - (distancex / distance) * magnet / distance;
  powery = y0 - (distancey / distance) * magnet / distance;

  forcex = (forcex + (el.data('homex') - x0) / 2) / 2.1;
  forcey = (forcey + (el.data('homey') - y0) / 2) / 2.1;


  el.css('left', powerx + forcex);
  el.css('top',  powery + forcey);
  el.text(parseInt( distance));
});
}, 15);

</script>
  </body>
</html>
